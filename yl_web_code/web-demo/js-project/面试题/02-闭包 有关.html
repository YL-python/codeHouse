<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    var test = (function (i) {
      return function () {
        alert(i *= 2);
      }
    })(2);
    test(5);
    /*
    结果是 '4'
      alert的结果都是字符串形式

    预编译期 只是定义了一个变量叫 test 
    运行期 给test 赋值是内部返回的 函数地址

    test(5); 会运行这个函数，函数在上下文内找 i 
    因为闭包 test指向的函数的作用域不会被销毁
    test(5); 运行的时候也会产生作用域，不过用完就销毁了

    作用域，作用域链，GC垃圾回收机制
    */
  </script>
</body>

</html>